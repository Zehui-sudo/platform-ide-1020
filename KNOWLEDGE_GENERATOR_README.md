# JavaScript çŸ¥è¯†ç‚¹å†…å®¹ç”Ÿæˆå·¥å…·

è¿™ä¸ªPythonè„šæœ¬ç”¨äºæ‰¹é‡ç”ŸæˆJavaScriptçŸ¥è¯†ç‚¹çš„å­¦ä¹ å†…å®¹ï¼ŒåŸºäº `javascript-knowledge-structure.md` ä¸­å®šä¹‰çš„promptæ¨¡æ¿ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“š æ‰¹é‡ç”Ÿæˆ97ä¸ªJavaScriptçŸ¥è¯†ç‚¹å†…å®¹ï¼ˆè¦†ç›–8ç« ï¼‰
- ğŸ¯ åŸºäºæ ‡å‡†åŒ–çš„promptæ¨¡æ¿
- ğŸ”„ æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆè·³è¿‡å·²ç”Ÿæˆæ–‡ä»¶ï¼‰
- ğŸ“ è‡ªåŠ¨ç”Ÿæˆç´¢å¼•æ–‡ä»¶
- ğŸ·ï¸ è‡ªåŠ¨æ·»åŠ ASTåŒ¹é…æ ‡ç­¾
- ğŸ“‚ æŒ‰ç« èŠ‚ç»„ç»‡è¾“å‡ºæ–‡ä»¶
- ğŸ¤– æ”¯æŒå¤šç§AIæä¾›å•†ï¼ˆGeminiã€OpenAIï¼‰

## å®‰è£…è¦æ±‚

```bash
# Python 3.7+
# æ ¹æ®ä½¿ç”¨çš„AIæœåŠ¡é€‰æ‹©å®‰è£…
pip install google-generativeai  # ä½¿ç”¨Google Gemini
pip install openai               # ä½¿ç”¨OpenAI
```

## é…ç½®

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»º `config.json` é…ç½®æ–‡ä»¶ï¼š

### ä½¿ç”¨ Google Geminiï¼ˆæ¨èï¼‰
```json
{
  "api_provider": "gemini",
  "gemini_api_key": "YOUR_GEMINI_API_KEY_HERE",
  "model": "gemini-pro",
  "temperature": 0.7,
  "max_tokens": 4000,
  "output_dir": "output",
  "batch_size": 5,
  "retry_times": 3,
  "retry_delay": 5
}
```

### ä½¿ç”¨ OpenAI
```json
{
  "api_provider": "openai",
  "openai_api_key": "YOUR_OPENAI_API_KEY_HERE",
  "api_base": "https://api.openai.com/v1",
  "model": "gpt-4",
  "temperature": 0.7,
  "max_tokens": 4000,
  "output_dir": "output",
  "batch_size": 5,
  "retry_times": 3,
  "retry_delay": 5
}
```

### é…ç½®è¯´æ˜
- `api_provider`: APIæä¾›å•†ï¼ˆ"gemini" æˆ– "openai"ï¼‰
- `gemini_api_key`: Google Gemini APIå¯†é’¥
- `openai_api_key`: OpenAI APIå¯†é’¥
- `model`: ä½¿ç”¨çš„æ¨¡å‹ï¼ˆgemini-pro, gpt-4ç­‰ï¼‰
- `temperature`: ç”Ÿæˆæ¸©åº¦ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šæœ‰åˆ›é€ æ€§ï¼‰
- `max_tokens`: æœ€å¤§è¾“å‡ºtokenæ•°
- `output_dir`: è¾“å‡ºç›®å½•
- `batch_size`: æ‰¹å¤„ç†å¤§å°ï¼ˆæ¯æ‰¹åä¼‘æ¯ï¼‰
- `retry_times`: å¤±è´¥é‡è¯•æ¬¡æ•°

## è·å–APIå¯†é’¥

### Google Gemini
1. è®¿é—® [Google AI Studio](https://makersuite.google.com/app/apikey)
2. ç‚¹å‡» "Get API Key" åˆ›å»ºæ–°å¯†é’¥
3. å¤åˆ¶å¯†é’¥åˆ°é…ç½®æ–‡ä»¶

### OpenAI
1. è®¿é—® [OpenAI Platform](https://platform.openai.com/api-keys)
2. åˆ›å»ºæ–°çš„APIå¯†é’¥
3. å¤åˆ¶å¯†é’¥åˆ°é…ç½®æ–‡ä»¶

## å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰

1. **å®‰è£…ä¾èµ–**
   ```bash
   pip install google-generativeai
   ```

2. **åˆ›å»ºé…ç½®æ–‡ä»¶**
   ```bash
   # å¤åˆ¶é…ç½®æ¨¡æ¿
   cp config.example.json config.json
   ```

3. **ç¼–è¾‘ config.jsonï¼Œæ·»åŠ APIå¯†é’¥**
   ```json
   {
     "api_provider": "gemini",
     "gemini_api_key": "ä½ çš„å®é™…å¯†é’¥",  // åœ¨è¿™é‡Œå¡«å…¥
     ...
   }
   ```
   
   âš ï¸ **å®‰å…¨æç¤º**ï¼š`config.json` å·²åŠ å…¥ `.gitignore`ï¼Œä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

4. **æµ‹è¯•ç”Ÿæˆç¬¬1ç« å†…å®¹**
   ```bash
   # åªç”Ÿæˆç¬¬1ç« ï¼ˆ23ä¸ªçŸ¥è¯†ç‚¹ï¼‰
   python generate_knowledge_content.py --chapter 1
   ```

## ä½¿ç”¨æ–¹æ³•

### äº¤äº’å¼æ¨¡å¼
```bash
python generate_knowledge_content.py
# ä¼šæ˜¾ç¤ºèœå•ï¼Œå¯ä»¥é€‰æ‹©æŒ‰ç« èŠ‚ç”Ÿæˆ
```

### å‘½ä»¤è¡Œæ¨¡å¼
```bash
# ç”Ÿæˆæ‰€æœ‰çŸ¥è¯†ç‚¹ï¼ˆè·³è¿‡å·²å­˜åœ¨ï¼‰
python generate_knowledge_content.py --all

# å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ‰€æœ‰
python generate_knowledge_content.py --all --force

# æŒ‰ç« èŠ‚ç”Ÿæˆï¼ˆæ–°åŠŸèƒ½ï¼‰
python generate_knowledge_content.py --chapter 1              # åªç”Ÿæˆç¬¬1ç« 
python generate_knowledge_content.py --chapter 1,2,3          # ç”Ÿæˆç¬¬1,2,3ç« 
python generate_knowledge_content.py --chapter 1 --force      # å¼ºåˆ¶é‡æ–°ç”Ÿæˆç¬¬1ç« 

# ç”Ÿæˆå•ä¸ªçŸ¥è¯†ç‚¹
python generate_knowledge_content.py --single js-sec-1-1-1

# ä»…ç”Ÿæˆç´¢å¼•
python generate_knowledge_content.py --index

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
python generate_knowledge_content.py --config my_config.json --all
```

## è¾“å‡ºç»“æ„

```
output/
â”œâ”€â”€ chapter1/
â”‚   â”œâ”€â”€ js-sec-1-1-1-å˜é‡å£°æ˜ï¼ˆvar-let-constï¼‰.md
â”‚   â”œâ”€â”€ js-sec-1-1-2-åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆnumber-string-booleanï¼‰.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ chapter2/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ chapter3/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ chapter4/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ chapter5/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ index.md              # ç”ŸæˆçŠ¶æ€ç´¢å¼•
â””â”€â”€ generation_log.txt    # ç”Ÿæˆæ—¥å¿—
```

## çŸ¥è¯†ç‚¹åˆ—è¡¨

è„šæœ¬ç°å·²åŒ…å«å®Œæ•´8ç« å…±97ä¸ªçŸ¥è¯†ç‚¹ï¼š

### ç¬¬ä¸€ç« ï¼šè¯­è¨€åŸºç¡€ï¼ˆ23ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 1.1 å˜é‡ä¸å€¼ï¼ˆ5ä¸ªï¼‰
- 1.2 è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼ï¼ˆ6ä¸ªï¼‰
- 1.3 æ§åˆ¶æµï¼ˆ6ä¸ªï¼‰
- 1.4 å‡½æ•°åŸºç¡€ï¼ˆ6ä¸ªï¼‰

### ç¬¬äºŒç« ï¼šå¤åˆæ•°æ®ç±»å‹ï¼ˆ19ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 2.1 æ•°ç»„ï¼ˆ7ä¸ªï¼‰
- 2.2 å¯¹è±¡ï¼ˆ7ä¸ªï¼‰
- 2.3 å­—ç¬¦ä¸²è¿›é˜¶ï¼ˆ5ä¸ªï¼‰

### ç¬¬ä¸‰ç« ï¼šå‡½æ•°è¿›é˜¶ï¼ˆ9ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 3.1 é«˜é˜¶å‡½æ•°ï¼ˆ5ä¸ªï¼‰
- 3.2 thisä¸ä¸Šä¸‹æ–‡ï¼ˆ4ä¸ªï¼‰

### ç¬¬å››ç« ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆ10ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 4.1 æ„é€ å‡½æ•°ä¸åŸå‹ï¼ˆ4ä¸ªï¼‰
- 4.2 ç±»ä¸ç»§æ‰¿ï¼ˆ6ä¸ªï¼‰

### ç¬¬äº”ç« ï¼šå¼‚æ­¥ç¼–ç¨‹ï¼ˆ14ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 5.1 å¼‚æ­¥åŸºç¡€ï¼ˆ4ä¸ªï¼‰
- 5.2 Promiseï¼ˆ5ä¸ªï¼‰
- 5.3 async/awaitï¼ˆ5ä¸ªï¼‰

### ç¬¬å…­ç« ï¼šDOMä¸äº‹ä»¶ï¼ˆ12ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 6.1 DOMæ“ä½œï¼ˆ6ä¸ªï¼‰
- 6.2 äº‹ä»¶å¤„ç†ï¼ˆ6ä¸ªï¼‰

### ç¬¬ä¸ƒç« ï¼šå®ç”¨ç‰¹æ€§ï¼ˆ14ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 7.1 ES6+ç‰¹æ€§ï¼ˆ5ä¸ªï¼‰
- 7.2 æ¨¡å—åŒ–ï¼ˆ4ä¸ªï¼‰
- 7.3 é”™è¯¯å¤„ç†ï¼ˆ4ä¸ªï¼‰

### ç¬¬å…«ç« ï¼šç½‘ç»œä¸å­˜å‚¨ï¼ˆ9ä¸ªçŸ¥è¯†ç‚¹ï¼‰
- 8.1 ç½‘ç»œè¯·æ±‚ï¼ˆ5ä¸ªï¼‰
- 8.2 æµè§ˆå™¨å­˜å‚¨ï¼ˆ4ä¸ªï¼‰

## ç”Ÿæˆçš„å†…å®¹æ ¼å¼

æ¯ä¸ªçŸ¥è¯†ç‚¹æ–‡ä»¶åŒ…å«ï¼š
- ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ
- ğŸ“š Level 1: åŸºç¡€è®¤çŸ¥
- ğŸ“ˆ Level 2: æ ¸å¿ƒç‰¹æ€§
- ğŸ” Level 3: å¯¹æ¯”å­¦ä¹ 
- ğŸš€ Level 4: å®æˆ˜åº”ç”¨ï¼ˆæœ‰è¶£åœºæ™¯ï¼‰
- ğŸ’¡ è®°å¿†è¦ç‚¹
- å…ƒæ•°æ®æ ‡ç­¾ï¼ˆç”¨äºASTåŒ¹é…ï¼‰

### ğŸ® Level 4 å®æˆ˜åº”ç”¨ç‰¹è‰²

ç”Ÿæˆçš„å®æˆ˜ç¤ºä¾‹ä¼šé€‰æ‹©æœ‰è¶£çš„åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š
- **æ¸¸æˆåœºæ™¯**ï¼šçŸ³å¤´å‰ªåˆ€å¸ƒã€çŒœæ•°å­—ã€è¿·å®«æ¢ç´¢ç­‰
- **åˆ›æ„äº’åŠ¨**ï¼šé¢œè‰²æ··åˆå™¨ã€è¡¨æƒ…ç”Ÿæˆå™¨ã€ASCIIè‰ºæœ¯ç­‰
- **ç¾é£Ÿç›¸å…³**ï¼šæŠ«è¨è®¡ç®—å™¨ã€å’–å•¡è°ƒé…ã€é£Ÿè°±éšæœºç­‰
- **å¨±ä¹æ´»åŠ¨**ï¼šéª°å­æ¸¸æˆã€å¹¸è¿è½¬ç›˜ã€å åœç®—å‘½ç­‰
- **æ—¥å¸¸è¶£å‘³**ï¼šå¿ƒæƒ…è¿½è¸ªã€ç¬‘è¯ç”Ÿæˆã€æ¯æ—¥è¿åŠ¿ç­‰

è¿™äº›æœ‰è¶£çš„åœºæ™¯è®©å­¦ä¹ JavaScriptå˜å¾—æ›´åŠ ç”ŸåŠ¨å’Œæœ‰å¸å¼•åŠ›ï¼

## æµ‹è¯•æ¨¡å¼

å¦‚æœæ²¡æœ‰é…ç½®APIå¯†é’¥ï¼Œè„šæœ¬ä¼šç”Ÿæˆæ¨¡æ‹Ÿå†…å®¹ç”¨äºæµ‹è¯•è¾“å‡ºæ ¼å¼ã€‚

## æ‰©å±•è¯´æ˜

### æ·»åŠ æ›´å¤šçŸ¥è¯†ç‚¹

ç¼–è¾‘ `generate_knowledge_content.py` ä¸­çš„ `define_knowledge_points` æ–¹æ³•ï¼š

```python
# æ·»åŠ ç¬¬å…­ç« 
chapter6 = [
    KnowledgePoint("js-sec-6-1-1", "å…ƒç´ é€‰æ‹©", "6", "6.1", "basic"),
    # ...
]
points.extend(chapter6)
```

### è‡ªå®šä¹‰promptæ¨¡æ¿

ä¿®æ”¹ `generate_prompt` æ–¹æ³•æ¥è°ƒæ•´ç”Ÿæˆçš„promptæ ¼å¼ã€‚

### ä½¿ç”¨å…¶ä»–AI API

ä¿®æ”¹ `call_ai_api` æ–¹æ³•ä»¥æ”¯æŒå…¶ä»–APIï¼ˆå¦‚Anthropic Claudeã€Azure OpenAIç­‰ï¼‰ã€‚

## æ³¨æ„äº‹é¡¹

1. **APIé™æµ**ï¼šè„šæœ¬åŒ…å«æ‰¹æ¬¡å»¶è¿Ÿå’Œé‡è¯•æœºåˆ¶
2. **å†…å®¹è´¨é‡**ï¼šå»ºè®®ä½¿ç”¨GPT-4æˆ–æ›´é«˜è´¨é‡çš„æ¨¡å‹
3. **æˆæœ¬æ§åˆ¶**ï¼šæ¯ä¸ªçŸ¥è¯†ç‚¹çº¦æ¶ˆè€—2000-4000 tokens
4. **æ–­ç‚¹ç»­ä¼ **ï¼šé»˜è®¤è·³è¿‡å·²å­˜åœ¨æ–‡ä»¶ï¼Œä½¿ç”¨ `--force` å¼ºåˆ¶é‡æ–°ç”Ÿæˆ

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ImportError: No module named 'openai'**
   ```bash
   pip install openai
   ```

2. **APIè°ƒç”¨å¤±è´¥**
   - æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ç½‘ç»œè¿æ¥
   - æŸ¥çœ‹ `generation_log.txt` è¯¦ç»†é”™è¯¯

3. **ç”Ÿæˆå†…å®¹ä¸å®Œæ•´**
   - å¢åŠ  `max_tokens` é…ç½®å€¼
   - æ£€æŸ¥APIå“åº”æ˜¯å¦è¢«æˆªæ–­

## License

MIT