# URL 导航改造需求说明

## 目标
1. **URL 单一源头**：学习界面所有入口（顶部导航、侧边栏、聊天知识点链接等）应只通过修改 URL 来驱动章节切换，页面根据 URL 同步加载内容。URL细化到小节（章节中的小节）颗粒度。
2. **学科切换默认章节**：当用户切换到新的学科时，如无历史记录，则自动打开该学科的第一个知识点，保证不会出现空白阅读区。
3. **Theme Generator 入口一致化**：在主题生成器（@ThemeGenerator.tsx）中点击“现在开始学习”，能够直接跳转到对应学科的首个知识点，与其他入口保持一致。

## 验收标准（理想状态）
1. 任意入口触发的章节切换都会更新 URL，浏览器后退/前进可回到对应章节/小节。
2. 切换学科时，若无历史记录，阅读区直接展示首节内容，不出现闪烁或空白。
3. Theme Generator 跳转后地址栏包含正确的 `subject` 和首节 `section` 参数，从该页面刷新仍会停留在同一知识点。
4. URL 中不存在“新学科 + 旧章节”等冲突组合。

