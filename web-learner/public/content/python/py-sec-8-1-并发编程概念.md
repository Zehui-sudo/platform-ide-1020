å¥½çš„ï¼Œä½œä¸ºä¸€åä¸–ç•Œçº§çš„æŠ€æœ¯æ•™è‚²è€…å’Œ Python ä¸“å®¶ï¼Œæˆ‘å°†æ ¹æ®è¿™ä»½â€œæ•™å­¦è®¾è®¡å›¾â€ä¸ºæ‚¨ç²¾å¿ƒæ‰“é€ ä¸€ç¯‡é«˜è´¨é‡çš„ Markdown æ•™ç¨‹ã€‚

---

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

å¹¶å‘ç¼–ç¨‹æ—¨åœ¨è§£å†³**ç¨‹åºæ‰§è¡Œæ•ˆç‡**å’Œ**ç³»ç»Ÿå“åº”æ€§**çš„é—®é¢˜ã€‚å®ƒè®©ç¨‹åºèƒ½å¤Ÿâ€œåŒæ—¶â€å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œä»è€Œå……åˆ†åˆ©ç”¨ç°ä»£è®¡ç®—æœºçš„å¤šæ ¸CPUèµ„æºï¼Œæˆ–æ˜¯åœ¨ç­‰å¾…å¤–éƒ¨èµ„æºï¼ˆå¦‚ç½‘ç»œã€ç£ç›˜ï¼‰æ—¶æ‰§è¡Œå…¶ä»–å·¥ä½œï¼Œé¿å…å®è´µçš„CPUæ—¶é—´è¢«æµªè´¹ã€‚

### ğŸ’¡ ä½¿ç”¨æ–¹å¼

ç†è§£å¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒåœ¨äºåŒºåˆ†å‡ ä¸ªå…³é”®æ¦‚å¿µï¼Œå®ƒä»¬æ˜¯é€‰æ‹©æ­£ç¡®å·¥å…·çš„â€œå†³ç­–æ ‘â€ã€‚

1.  **å¹¶å‘ (Concurrency)**ï¼š**é€»è¾‘ä¸Š**åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚åœ¨å•æ ¸CPUä¸Šï¼Œè¿™æ„å‘³ç€å¿«é€Ÿåœ°åœ¨ä»»åŠ¡ä¹‹é—´åˆ‡æ¢ï¼Œç»™äººä¸€ç§åŒæ—¶è¿è¡Œçš„é”™è§‰ã€‚
    *   **æ¯”å–»**: ä¸€ä½å’–å•¡å¸ˆåœ¨åˆ¶ä½œå¤šæ¯å’–å•¡ã€‚ä»–ä¼šå…ˆä¸ºAæ¯åŠ å’–å•¡è±†ï¼Œåœ¨æœºå™¨ç ”ç£¨æ—¶ï¼Œå»ä¸ºBæ¯åŠ çƒ­ç‰›å¥¶ï¼Œç„¶åå†å›æ¥ä¸ºAæ¯èƒå–ã€‚ä»–åªæœ‰ä¸€ä¸ªäººï¼ˆå•æ ¸ï¼‰ï¼Œä½†é€šè¿‡åˆ‡æ¢ä»»åŠ¡ï¼Œç¼©çŸ­äº†æ€»è€—æ—¶ã€‚

2.  **å¹¶è¡Œ (Parallelism)**ï¼š**ç‰©ç†ä¸Š**åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚è¿™éœ€è¦å¤šæ ¸CPUï¼Œæ¯ä¸ªæ ¸å¿ƒåœ¨åŒä¸€æ—¶åˆ»ç‹¬ç«‹æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚
    *   **æ¯”å–»**: ä¸¤ä½å’–å•¡å¸ˆåŒæ—¶åˆ¶ä½œä¸¤æ¯ä¸åŒçš„å’–å•¡ã€‚ä»–ä»¬æ˜¯ä¸¤ä¸ªäººï¼ˆå¤šæ ¸ï¼‰ï¼ŒçœŸæ­£åœ°åœ¨åŒä¸€æ—¶é—´åšç€å„è‡ªçš„äº‹æƒ…ã€‚

3.  **ä»»åŠ¡ç±»å‹**:
    *   **I/O å¯†é›†å‹ (I/O-Bound)**: ä»»åŠ¡å¤§éƒ¨åˆ†æ—¶é—´åœ¨ç­‰å¾…å¤–éƒ¨èµ„æºï¼Œå¦‚ç­‰å¾…ç½‘ç»œå“åº”ã€è¯»å–ç¡¬ç›˜æ–‡ä»¶ã€‚CPUå¤„äºç©ºé—²çŠ¶æ€ã€‚
    *   **CPU å¯†é›†å‹ (CPU-Bound)**: ä»»åŠ¡éœ€è¦å¤§é‡çš„è®¡ç®—ï¼ŒCPUæŒç»­é«˜é€Ÿè¿è½¬ï¼Œå¦‚å¤æ‚çš„æ•°å­¦è¿ç®—ã€è§†é¢‘ç¼–ç ã€‚

ä»¥ä¸‹å›¾è¡¨æ¸…æ™°åœ°å±•ç¤ºäº†å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼š

```mermaid
graph TD
    subgraph "å•æ ¸CPU (å¹¶å‘ Concurrency)"
        direction LR
        T1_A["ä»»åŠ¡1: æ‰§è¡Œ"] --> T2_A["ä»»åŠ¡2: æ‰§è¡Œ"] --> T1_B["ä»»åŠ¡1: æ‰§è¡Œ"] --> T2_B["ä»»åŠ¡2: æ‰§è¡Œ"]
    end

    subgraph "å¤šæ ¸CPU (å¹¶è¡Œ Parallelism)"
        Core1[æ ¸å¿ƒ1] --> C1_T1["ä»»åŠ¡1: æ‰§è¡Œ"]
        Core2[æ ¸å¿ƒ2] --> C2_T2["ä»»åŠ¡2: æ‰§è¡Œ"]
    end

    style T1_A fill:#a7d3a2,stroke:#333
    style T1_B fill:#a7d3a2,stroke:#333
    style T2_A fill:#f9d5a5,stroke:#333
    style T2_B fill:#f9d5a5,stroke:#333
    style C1_T1 fill:#a7d3a2,stroke:#333
    style C2_T2 fill:#f9d5a5,stroke:#333
```

åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨ `threading`ï¼ˆçº¿ç¨‹ï¼‰æ¥å®ç°å¹¶å‘ï¼Œä½¿ç”¨ `multiprocessing`ï¼ˆè¿›ç¨‹ï¼‰æ¥å®ç°å¹¶è¡Œã€‚

### ğŸ“š Level 1: åŸºç¡€è®¤çŸ¥ï¼ˆ30ç§’ç†è§£ï¼‰

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„â€œä¸‹è½½â€ä»»åŠ¡æ¥æ„Ÿå—å¹¶å‘çš„å¨åŠ›ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸‹è½½ä»»åŠ¡ï¼Œæ¯ä¸ªéƒ½éœ€è¦2ç§’ã€‚ä¸²è¡Œæ‰§è¡Œæ€»å…±éœ€è¦4ç§’ï¼Œè€Œä½¿ç”¨å¹¶å‘ï¼ˆçº¿ç¨‹ï¼‰ï¼Œå®ƒä»¬å¯ä»¥â€œåŒæ—¶â€ç­‰å¾…ï¼Œæ€»è€—æ—¶çº¦2ç§’ã€‚

```python
import threading
import time

def fake_download(task_name):
    """æ¨¡æ‹Ÿä¸€ä¸ªéœ€è¦ç­‰å¾…I/Oçš„ä»»åŠ¡"""
    print(f"å¼€å§‹ä¸‹è½½ {task_name}...")
    time.sleep(2)  # æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
    print(f"{task_name} ä¸‹è½½å®Œæˆ!")

# --- ä¸²è¡Œæ‰§è¡Œ ---
start_time = time.time()
fake_download("æ–‡ä»¶A")
fake_download("æ–‡ä»¶B")
end_time = time.time()
print(f"ä¸²è¡Œæ‰§è¡Œæ€»è€—æ—¶: {end_time - start_time:.2f} ç§’\n")

# --- å¹¶å‘æ‰§è¡Œ ---
start_time = time.time()
# åˆ›å»ºçº¿ç¨‹
thread1 = threading.Thread(target=fake_download, args=("æ–‡ä»¶C",))
thread2 = threading.Thread(target=fake_download, args=("æ–‡ä»¶D",))

# å¯åŠ¨çº¿ç¨‹
thread1.start()
thread2.start()

# ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ
thread1.join()
thread2.join()

end_time = time.time()
print(f"å¹¶å‘æ‰§è¡Œæ€»è€—æ—¶: {end_time - start_time:.2f} ç§’")

# é¢„æœŸè¾“å‡ºç»“æœ:
# å¼€å§‹ä¸‹è½½ æ–‡ä»¶A...
# æ–‡ä»¶A ä¸‹è½½å®Œæˆ!
# å¼€å§‹ä¸‹è½½ æ–‡ä»¶B...
# æ–‡ä»¶B ä¸‹è½½å®Œæˆ!
# ä¸²è¡Œæ‰§è¡Œæ€»è€—æ—¶: 4.00 ç§’
#
# å¼€å§‹ä¸‹è½½ æ–‡ä»¶C...
# å¼€å§‹ä¸‹è½½ æ–‡ä»¶D...
# æ–‡ä»¶C ä¸‹è½½å®Œæˆ!
# æ–‡ä»¶D ä¸‹è½½å®Œæˆ!
# å¹¶å‘æ‰§è¡Œæ€»è€—æ—¶: 2.01 ç§’
```

### ğŸ“ˆ Level 2: æ ¸å¿ƒç‰¹æ€§ï¼ˆæ·±å…¥ç†è§£ï¼‰

#### ç‰¹æ€§1: çº¿ç¨‹ (Threading) - I/O å¯†é›†å‹ä»»åŠ¡çš„åˆ©å™¨

çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚åœ¨ Python ä¸­ï¼Œç”±äºå…¨å±€è§£é‡Šå™¨é”ï¼ˆGILï¼‰çš„å­˜åœ¨ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‰§è¡Œ Python å­—èŠ‚ç ã€‚ä½†è¿™å¹¶ä¸å¦¨ç¢çº¿ç¨‹åœ¨å¤„ç† I/O å¯†é›†å‹ä»»åŠ¡æ—¶å¤§æ”¾å¼‚å½©ã€‚å½“ä¸€ä¸ªçº¿ç¨‹ç­‰å¾… I/O æ—¶ï¼ˆå¦‚ `time.sleep()`, ç½‘ç»œè¯·æ±‚ï¼‰ï¼ŒGIL ä¼šè¢«é‡Šæ”¾ï¼Œå…è®¸å…¶ä»–çº¿ç¨‹è¿è¡Œã€‚

```python
import threading
import time
import requests # éœ€è¦å®‰è£…: pip install requests

urls = [
    "https://www.google.com",
    "https://www.python.org",
    "https://www.github.com",
]

def fetch_url(url):
    """ä¸€ä¸ªå…¸å‹çš„I/Oå¯†é›†å‹ä»»åŠ¡ï¼šè¯·æ±‚ç½‘é¡µ"""
    print(f"å¼€å§‹è¯·æ±‚ {url}...")
    try:
        response = requests.get(url, timeout=5)
        print(f"å®Œæˆè¯·æ±‚ {url}, çŠ¶æ€ç : {response.status_code}")
    except requests.exceptions.RequestException as e:
        print(f"è¯·æ±‚ {url} å¤±è´¥: {e}")

# ä½¿ç”¨çº¿ç¨‹å¤„ç†å¤šä¸ªç½‘ç»œè¯·æ±‚
start_time = time.time()
threads = []
for url in urls:
    thread = threading.Thread(target=fetch_url, args=(url,))
    threads.append(thread)
    thread.start()

for thread in threads:
    thread.join()

end_time = time.time()
print(f"\nä½¿ç”¨çº¿ç¨‹å¤„ç† I/O å¯†é›†å‹ä»»åŠ¡ï¼Œæ€»è€—æ—¶: {end_time - start_time:.2f} ç§’")

# é¢„æœŸè¾“å‡ºç»“æœ (é¡ºåºå¯èƒ½ä¸åŒ):
# å¼€å§‹è¯·æ±‚ https://www.google.com...
# å¼€å§‹è¯·æ±‚ https://www.python.org...
# å¼€å§‹è¯·æ±‚ https://www.github.com...
# å®Œæˆè¯·æ±‚ https://www.google.com, çŠ¶æ€ç : 200
# å®Œæˆè¯·æ±‚ https://www.python.org, çŠ¶æ€ç : 200
# å®Œæˆè¯·æ±‚ https://www.github.com, çŠ¶æ€ç : 200
#
# ä½¿ç”¨çº¿ç¨‹å¤„ç† I/O å¯†é›†å‹ä»»åŠ¡ï¼Œæ€»è€—æ—¶: 1.52 ç§’  (è¿™ä¸ªæ—¶é—´å–å†³äºä½ çš„ç½‘é€Ÿï¼Œä½†ä¼šè¿œå°äºä¸‰æ¬¡è¯·æ±‚æ—¶é—´çš„æ€»å’Œ)
```

#### ç‰¹æ€§2: è¿›ç¨‹ (Multiprocessing) - CPU å¯†é›†å‹ä»»åŠ¡çš„æ•‘æ˜Ÿ

è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´å’Œ Python è§£é‡Šå™¨ï¼Œå› æ­¤å®ƒä»¬ä¸å— GIL çš„é™åˆ¶ã€‚è¿™ä½¿å¾— `multiprocessing` æˆä¸ºæ‰§è¡Œ CPU å¯†é›†å‹ä»»åŠ¡ã€çœŸæ­£åˆ©ç”¨å¤šæ ¸ä¼˜åŠ¿çš„å”¯ä¸€æ ‡å‡†åº“é€‰æ‹©ã€‚

```python
import multiprocessing
import time

def heavy_calculation(n):
    """ä¸€ä¸ªå…¸å‹çš„CPUå¯†é›†å‹ä»»åŠ¡ï¼šå¤§é‡è®¡ç®—"""
    print(f"å¼€å§‹è®¡ç®— {n}...")
    count = 0
    for i in range(n):
        count += i
    print(f"è®¡ç®— {n} å®Œæˆ!")
    return count

# ä½¿ç”¨è¿›ç¨‹å¤„ç†å¤šä¸ªè®¡ç®—ä»»åŠ¡
if __name__ == '__main__': # åœ¨Windows/macOSä¸Šï¼Œmultiprocessingå¿…é¡»æ”¾åœ¨è¿™ä¸ªblocké‡Œ
    start_time = time.time()
    
    # åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ± 
    pool = multiprocessing.Pool(processes=2)
    
    # ä»»åŠ¡åˆ—è¡¨
    tasks = [100_000_000, 100_000_001]
    
    # å¼‚æ­¥æäº¤ä»»åŠ¡
    results = pool.map(heavy_calculation, tasks)
    
    pool.close() # å…³é—­è¿›ç¨‹æ± ï¼Œä¸å†æ¥å—æ–°ä»»åŠ¡
    pool.join()  # ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹æ‰§è¡Œå®Œæ¯•
    
    end_time = time.time()
    print(f"\nä½¿ç”¨è¿›ç¨‹å¤„ç† CPU å¯†é›†å‹ä»»åŠ¡ï¼Œæ€»è€—æ—¶: {end_time - start_time:.2f} ç§’")

# é¢„æœŸè¾“å‡ºç»“æœ (åœ¨åŒæ ¸æˆ–ä»¥ä¸ŠCPUä¸Š):
# å¼€å§‹è®¡ç®— 100000000...
# å¼€å§‹è®¡ç®— 100000001...
# è®¡ç®— 100000000 å®Œæˆ!
# è®¡ç®— 100000001 å®Œæˆ!
#
# ä½¿ç”¨è¿›ç¨‹å¤„ç† CPU å¯†é›†å‹ä»»åŠ¡ï¼Œæ€»è€—æ—¶: 3.51 ç§’ (è¿™ä¸ªæ—¶é—´å¤§çº¦æ˜¯å•ä¸ªä»»åŠ¡çš„è€—æ—¶ï¼Œè€Œä¸æ˜¯ä¸¤å€)
```

### ğŸ” Level 3: å¯¹æ¯”å­¦ä¹ ï¼ˆé¿å…é™·é˜±ï¼‰

**é™·é˜±ï¼šè¯¯ç”¨ `threading` å¤„ç† CPU å¯†é›†å‹ä»»åŠ¡**

ç”±äº GIL çš„å­˜åœ¨ï¼Œä½¿ç”¨å¤šçº¿ç¨‹æ‰§è¡Œçº¯è®¡ç®—ä»»åŠ¡ï¼Œä¸ä»…ä¸ä¼šå˜å¿«ï¼Œåè€Œä¼šå› ä¸ºçº¿ç¨‹åˆ›å»ºã€åˆ‡æ¢å’Œé”ç«äº‰çš„å¼€é”€è€Œå˜å¾—æ›´æ…¢ï¼

```python
import threading
import multiprocessing
import time

def cpu_bound_task():
    """ä¸€ä¸ªçº¯è®¡ç®—ä»»åŠ¡"""
    count = 0
    for _ in range(100_000_000):
        count += 1

# === é”™è¯¯ç”¨æ³• ===
# âŒ å°è¯•ç”¨å¤šçº¿ç¨‹åŠ é€Ÿè®¡ç®—ï¼Œç»“æœé€‚å¾—å…¶å
print("--- é”™è¯¯ç”¨æ³•ï¼šå¤šçº¿ç¨‹å¤„ç†CPUå¯†é›†å‹ä»»åŠ¡ ---")
start_time = time.time()
thread1 = threading.Thread(target=cpu_bound_task)
thread2 = threading.Thread(target=cpu_bound_task)
thread1.start()
thread2.start()
thread1.join()
thread2.join()
end_time = time.time()
print(f"å¤šçº¿ç¨‹è€—æ—¶: {end_time - start_time:.2f} ç§’")
# è§£é‡Šä¸ºä»€ä¹ˆæ˜¯é”™çš„:
# GIL å¼ºåˆ¶åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‰§è¡ŒPythonä»£ç ã€‚
# ä¸¤ä¸ªçº¿ç¨‹ä¸ºäº†äº‰å¤ºGILä¼šäº§ç”Ÿé¢å¤–çš„å¼€é”€ï¼Œå¯¼è‡´æ€»æ—¶é—´æ¯”å•ä¸ªçº¿ç¨‹æ‰§è¡Œä¸¤æ¬¡è¿˜è¦é•¿ã€‚


# === æ­£ç¡®ç”¨æ³• ===
# âœ… ä½¿ç”¨å¤šè¿›ç¨‹ç»•è¿‡GILï¼Œå®ç°çœŸæ­£çš„å¹¶è¡Œè®¡ç®—
print("\n--- æ­£ç¡®ç”¨æ³•ï¼šå¤šè¿›ç¨‹å¤„ç†CPUå¯†é›†å‹ä»»åŠ¡ ---")
if __name__ == '__main__':
    start_time = time.time()
    process1 = multiprocessing.Process(target=cpu_bound_task)
    process2 = multiprocessing.Process(target=cpu_bound_task)
    process1.start()
    process2.start()
    process1.join()
    process2.join()
    end_time = time.time()
    print(f"å¤šè¿›ç¨‹è€—æ—¶: {end_time - start_time:.2f} ç§’")
# è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·æ˜¯å¯¹çš„:
# æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„Pythonè§£é‡Šå™¨å’ŒGILï¼Œå®ƒä»¬å¯ä»¥åœ¨ä¸åŒçš„CPUæ ¸å¿ƒä¸Šå¹¶è¡Œæ‰§è¡Œï¼Œ
# ä»è€Œå°†æ€»è€—æ—¶å‡å°‘åˆ°æ¥è¿‘å•ä¸ªä»»åŠ¡çš„è€—æ—¶ï¼ˆåœ¨å¤šæ ¸CPUä¸Šï¼‰ã€‚

# é¢„æœŸè¾“å‡º (åœ¨ä¸€ä¸ªè‡³å°‘åŒæ ¸çš„æœºå™¨ä¸Š):
# --- é”™è¯¯ç”¨æ³•ï¼šå¤šçº¿ç¨‹å¤„ç†CPUå¯†é›†å‹ä»»åŠ¡ ---
# å¤šçº¿ç¨‹è€—æ—¶: 9.85 ç§’  (æ¯”å•ä¸ªä»»åŠ¡çš„è€—æ—¶ * 2 è¿˜è¦æ…¢)
#
# --- æ­£ç¡®ç”¨æ³•ï¼šå¤šè¿›ç¨‹å¤„ç†CPUå¯†é›†å‹ä»»åŠ¡ ---
# å¤šè¿›ç¨‹è€—æ—¶: 5.12 ç§’  (æ¥è¿‘å•ä¸ªä»»åŠ¡çš„è€—æ—¶ï¼Œå®ç°äº†åŠ é€Ÿ)
```

### ğŸš€ Level 4: å®æˆ˜åº”ç”¨ï¼ˆçœŸå®åœºæ™¯ï¼‰

**åœºæ™¯ï¼š** ğŸš€ æ˜Ÿé™…çŸ¿ç‰©åˆ†æç«™

æˆ‘ä»¬çš„å¤ªç©ºæ¢æµ‹å™¨å‘å›äº†æ¥è‡ªä¸åŒè¡Œæ˜Ÿçš„çŸ¿ç‰©æ ·æœ¬æ•°æ®ã€‚åˆ†æç«™éœ€è¦å®Œæˆä¸¤é¡¹ä¸»è¦å·¥ä½œï¼š
1.  **ä¸‹è½½æ•°æ® (I/O å¯†é›†å‹)**: ä»é¥è¿œçš„è¡Œæ˜Ÿä¸­ç»§ç«™ä¸‹è½½åœ°è´¨æ‰«ææ•°æ®ï¼Œç½‘ç»œå»¶è¿Ÿå¾ˆé«˜ã€‚
2.  **åˆ†ææˆåˆ† (CPU å¯†é›†å‹)**: å¯¹ä¸‹è½½çš„æ•°æ®è¿›è¡Œå¤æ‚çš„ç®—æ³•åˆ†æï¼Œæ‰¾å‡ºç¨€æœ‰å…ƒç´ ã€‚

æˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ªé«˜æ•ˆçš„åˆ†ææµç¨‹ï¼Œç»“åˆä½¿ç”¨ `threading` å’Œ `multiprocessing` æ¥æœ€å¤§åŒ–æ•ˆç‡ã€‚

```python
import threading
import multiprocessing
import time
import random

def download_data(planet_name):
    """(I/Oå¯†é›†å‹) æ¨¡æ‹Ÿä»è¡Œæ˜Ÿä¸‹è½½æ•°æ®"""
    print(f"ğŸ›°ï¸ [I/Oçº¿ç¨‹] å¼€å§‹ä» {planet_name} ä¸‹è½½æ•°æ®...")
    time.sleep(random.uniform(2, 4)) # æ¨¡æ‹Ÿé«˜ç½‘ç»œå»¶è¿Ÿ
    data_packet = f"æ¥è‡ª {planet_name} çš„åŸå§‹æ•°æ®åŒ…"
    print(f"âœ… [I/Oçº¿ç¨‹] {planet_name} æ•°æ®ä¸‹è½½å®Œæ¯•!")
    return data_packet

def analyze_composition(data_packet):
    """(CPUå¯†é›†å‹) æ¨¡æ‹Ÿåˆ†æçŸ¿ç‰©æˆåˆ†"""
    print(f"ğŸ”¬ [CPUè¿›ç¨‹] å¼€å§‹åˆ†æ '{data_packet}'...")
    # æ¨¡æ‹Ÿå¤æ‚çš„è®¡ç®—
    n = 80_000_000
    _ = sum(i * i for i in range(n))
    result = f"åˆ†æç»“æœ: åœ¨ '{data_packet}' ä¸­å‘ç°è¶…èƒ½é‡æ™¶ä½“!"
    print(f"ğŸ’ [CPUè¿›ç¨‹] '{data_packet}' åˆ†æå®Œæˆ!")
    return result

if __name__ == '__main__':
    planets = ["ç«æ˜Ÿ", "æœ¨å«äºŒ", "æ³°å¦æ˜Ÿ"]
    
    print("--- å¯åŠ¨æ˜Ÿé™…çŸ¿ç‰©åˆ†æç«™ ---")
    start_total_time = time.time()

    # --- Step 1: ä½¿ç”¨çº¿ç¨‹æ± å¹¶å‘ä¸‹è½½æ‰€æœ‰æ•°æ® ---
    print("\n--- [é˜¶æ®µä¸€] å¹¶å‘ä¸‹è½½è¡Œæ˜Ÿæ•°æ® ---")
    download_threads = []
    downloaded_data = [None] * len(planets)

    # æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥å°†ç»“æœå­˜å…¥åˆ—è¡¨
    def download_wrapper(index, planet):
        downloaded_data[index] = download_data(planet)

    for i, planet in enumerate(planets):
        thread = threading.Thread(target=download_wrapper, args=(i, planet))
        download_threads.append(thread)
        thread.start()

    for thread in download_threads:
        thread.join()
    
    print("\n--- [é˜¶æ®µä¸€] æ‰€æœ‰æ•°æ®ä¸‹è½½å®Œæˆ! ---")
    print("æ”¶åˆ°çš„æ•°æ®åŒ…:", downloaded_data)

    # --- Step 2: ä½¿ç”¨è¿›ç¨‹æ± å¹¶è¡Œåˆ†ææ•°æ® ---
    print("\n--- [é˜¶æ®µäºŒ] å¹¶è¡Œåˆ†æçŸ¿ç‰©æˆåˆ† ---")
    # ä½¿ç”¨ä¸CPUæ ¸å¿ƒæ•°åŒ¹é…çš„è¿›ç¨‹æ•°ï¼Œæˆ–è€…æ ¹æ®éœ€è¦è°ƒæ•´
    num_processes = min(multiprocessing.cpu_count(), len(downloaded_data))
    with multiprocessing.Pool(processes=num_processes) as pool:
        analysis_results = pool.map(analyze_composition, downloaded_data)
    
    print("\n--- [é˜¶æ®µäºŒ] æ‰€æœ‰åˆ†æå·¥ä½œå®Œæˆ! ---")
    print("æœ€ç»ˆåˆ†ææŠ¥å‘Š:")
    for report in analysis_results:
        print(f"- {report}")
        
    end_total_time = time.time()
    print(f"\nâœ¨ ä»»åŠ¡å®Œæˆï¼æ€»è€—æ—¶: {end_total_time - start_total_time:.2f} ç§’")

# é¢„æœŸè¾“å‡º (é¡ºåºå’Œæ—¶é—´å¯èƒ½ç•¥æœ‰ä¸åŒ):
# --- å¯åŠ¨æ˜Ÿé™…çŸ¿ç‰©åˆ†æç«™ ---
#
# --- [é˜¶æ®µä¸€] å¹¶å‘ä¸‹è½½è¡Œæ˜Ÿæ•°æ® ---
# ğŸ›°ï¸ [I/Oçº¿ç¨‹] å¼€å§‹ä» ç«æ˜Ÿ ä¸‹è½½æ•°æ®...
# ğŸ›°ï¸ [I/Oçº¿ç¨‹] å¼€å§‹ä» æœ¨å«äºŒ ä¸‹è½½æ•°æ®...
# ğŸ›°ï¸ [I/Oçº¿ç¨‹] å¼€å§‹ä» æ³°å¦æ˜Ÿ ä¸‹è½½æ•°æ®...
# âœ… [I/Oçº¿ç¨‹] ç«æ˜Ÿ æ•°æ®ä¸‹è½½å®Œæ¯•!
# âœ… [I/Oçº¿ç¨‹] æ³°å¦æ˜Ÿ æ•°æ®ä¸‹è½½å®Œæ¯•!
# âœ… [I/Oçº¿ç¨‹] æœ¨å«äºŒ æ•°æ®ä¸‹è½½å®Œæ¯•!
#
# --- [é˜¶æ®µä¸€] æ‰€æœ‰æ•°æ®ä¸‹è½½å®Œæˆ! ---
# æ”¶åˆ°çš„æ•°æ®åŒ…: ['æ¥è‡ª ç«æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…', 'æ¥è‡ª æœ¨å«äºŒ çš„åŸå§‹æ•°æ®åŒ…', 'æ¥è‡ª æ³°å¦æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…']
#
# --- [é˜¶æ®µäºŒ] å¹¶è¡Œåˆ†æçŸ¿ç‰©æˆåˆ† ---
# ğŸ”¬ [CPUè¿›ç¨‹] å¼€å§‹åˆ†æ 'æ¥è‡ª ç«æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…'...
# ğŸ”¬ [CPUè¿›ç¨‹] å¼€å§‹åˆ†æ 'æ¥è‡ª æœ¨å«äºŒ çš„åŸå§‹æ•°æ®åŒ…'...
# ğŸ”¬ [CPUè¿›ç¨‹] å¼€å§‹åˆ†æ 'æ¥è‡ª æ³°å¦æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…'...
# ğŸ’ [CPUè¿›ç¨‹] 'æ¥è‡ª ç«æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…' åˆ†æå®Œæˆ!
# ğŸ’ [CPUè¿›ç¨‹] 'æ¥è‡ª æ³°å¦æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…' åˆ†æå®Œæˆ!
# ğŸ’ [CPUè¿›ç¨‹] 'æ¥è‡ª æœ¨å«äºŒ çš„åŸå§‹æ•°æ®åŒ…' åˆ†æå®Œæˆ!
#
# --- [é˜¶æ®µäºŒ] æ‰€æœ‰åˆ†æå·¥ä½œå®Œæˆ! ---
# æœ€ç»ˆåˆ†ææŠ¥å‘Š:
# - åˆ†æç»“æœ: åœ¨ 'æ¥è‡ª ç«æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…' ä¸­å‘ç°è¶…èƒ½é‡æ™¶ä½“!
# - åˆ†æç»“æœ: åœ¨ 'æ¥è‡ª æœ¨å«äºŒ çš„åŸå§‹æ•°æ®åŒ…' ä¸­å‘ç°è¶…èƒ½é‡æ™¶ä½“!
# - åˆ†æç»“æœ: åœ¨ 'æ¥è‡ª æ³°å¦æ˜Ÿ çš„åŸå§‹æ•°æ®åŒ…' ä¸­å‘ç°è¶…èƒ½é‡æ™¶ä½“!
#
# âœ¨ ä»»åŠ¡å®Œæˆï¼æ€»è€—æ—¶: 8.59 ç§’ (è¿œå°äºæ‰€æœ‰ä»»åŠ¡ä¸²è¡Œæ‰§è¡Œæ—¶é—´çš„æ€»å’Œ)
```

### ğŸ’¡ è®°å¿†è¦ç‚¹
- **è¦ç‚¹1**: **å¹¶å‘æ˜¯â€œçœ‹èµ·æ¥åŒæ—¶â€ï¼Œå¹¶è¡Œæ˜¯â€œçœŸæ­£åŒæ—¶â€**ã€‚å¹¶å‘é€šè¿‡ä»»åŠ¡åˆ‡æ¢å®ç°ï¼Œå•æ ¸å³å¯ï¼›å¹¶è¡Œéœ€è¦å¤šæ ¸CPUæ”¯æŒã€‚
- **è¦ç‚¹2**: **ä»»åŠ¡ç±»å‹å†³å®šå·¥å…·é€‰å‹**ã€‚é‡åˆ°ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ç­‰ I/O å¯†é›†å‹ä»»åŠ¡ï¼Œä¼˜å…ˆé€‰æ‹© `threading`ï¼›é‡åˆ°ç§‘å­¦è®¡ç®—ã€æ•°æ®å¤„ç†ç­‰ CPU å¯†é›†å‹ä»»åŠ¡ï¼Œå¿…é¡»ä½¿ç”¨ `multiprocessing`ã€‚
- **è¦ç‚¹3**: **GIL æ˜¯æ ¸å¿ƒé™åˆ¶**ã€‚Python çš„å…¨å±€è§£é‡Šå™¨é”ï¼ˆGILï¼‰æ˜¯ `threading` æ— æ³•åˆ©ç”¨å¤šæ ¸è¿›è¡Œå¹¶è¡Œè®¡ç®—çš„æ ¹æœ¬åŸå› ã€‚`multiprocessing` é€šè¿‡åˆ›å»ºç‹¬ç«‹è¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰è‡ªå·±çš„ GILï¼Œä»è€Œç»•å¼€äº†è¿™ä¸ªé™åˆ¶ã€‚