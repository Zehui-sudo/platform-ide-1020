å¥½çš„ï¼Œæ€»å»ºç­‘å¸ˆã€‚æˆ‘ä»¬å·²ç»ç²¾é€šäº†å¦‚ä½•é€šè¿‡ `tailwind.config.js` æ–‡ä»¶æ¥é”»é€ æˆ‘ä»¬ç‹¬ä¸€æ— äºŒçš„è®¾è®¡ç³»ç»Ÿã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ï¼Œå­¦ä¹ å¦‚ä½•å°†è¿™äº›è®¾è®¡ä»¤ç‰Œå’Œ Tailwind çš„å¼ºå¤§åŠŸèƒ½ç›´æ¥æ³¨å…¥åˆ°æˆ‘ä»¬çš„ CSS æ–‡ä»¶ä¸­ï¼Œå®ç°æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡å’Œä»£ç å¤ç”¨ã€‚

---

### ğŸ¯ æ ¸å¿ƒç›®æ ‡ (Core Goal)

æœ¬èŠ‚è¯¾ç¨‹çš„æ ¸å¿ƒç›®æ ‡æ˜¯è®©ä½ ç†Ÿç»ƒæŒæ¡åœ¨ CSS æ–‡ä»¶ä¸­ä½¿ç”¨ Tailwind çš„æ ¸å¿ƒæŒ‡ä»¤ï¼ˆDirectivesï¼‰ï¼Œå°¤å…¶æ˜¯ `@apply`ã€‚å­¦å®Œæœ¬èŠ‚ï¼Œä½ å°†èƒ½å¤Ÿå°†ä¸€ç»„é‡å¤çš„å·¥å…·ç±»**æŠ½å–**å¹¶**ç»„åˆ**æˆä¸€ä¸ªå¯å¤ç”¨çš„ã€è¯­ä¹‰åŒ–çš„ CSS ç±»ï¼ŒåŒæ—¶å­¦ä¼šä½¿ç”¨ `@layer` æ¥ç»„ç»‡ä½ çš„æ ·å¼ï¼Œç¡®ä¿å®ƒä»¬ä¸ Tailwind çš„ç³»ç»Ÿå’Œè°å…±å­˜ï¼Œä»è€Œåœ¨ä¿æŒå¼€å‘æ•ˆç‡çš„åŒæ—¶ï¼Œå†™å‡ºæ›´æ•´æ´ã€æ›´æ˜“äºç»´æŠ¤çš„ HTML å’Œ CSSã€‚

### ğŸ”‘ æ ¸å¿ƒè¯­æ³•ä¸å‚æ•° (Core Syntax & Parameters)

åœ¨ä½ çš„ä¸» CSS æ–‡ä»¶ï¼ˆä¾‹å¦‚ `src/input.css`ï¼‰ä¸­ï¼ŒTailwind æä¾›äº†å‡ ä¸ªä»¥ `@` å¼€å¤´çš„ç‰¹æ®Šâ€œæŒ‡ä»¤â€ï¼Œå®ƒä»¬åœ¨æ„å»ºæ—¶ä¼šè¢« Tailwind å¼•æ“å¤„ç†ã€‚

1.  **`@tailwind <layer>`**:
    *   **ä½œç”¨**: è¿™æ˜¯æ³¨å…¥ Tailwind æ ¸å¿ƒæ ·å¼çš„å…¥å£ã€‚
    *   **å‚æ•°**:
        *   `base`: æ³¨å…¥ Tailwind çš„åŸºç¡€æ ·å¼å’Œé¢„è®¾ï¼ˆç±»ä¼¼äº Normalize.cssï¼‰ã€‚
        *   `components`: æ³¨å…¥ Tailwind çš„ç»„ä»¶ç±»ï¼ˆå¦‚ `container`ï¼‰ã€‚
        *   `utilities`: æ³¨å…¥æ‰€æœ‰ Tailwind çš„åŠŸèƒ½æ€§å·¥å…·ç±»ã€‚
    *   **è¯­æ³•**:
        ```css
        @tailwind base;
        @tailwind components;
        @tailwind utilities;
        ```
        > **æ³¨æ„**: ä½ å¿…é¡»åœ¨ä½ çš„ä¸» CSS æ–‡ä»¶ä¸­åŒ…å«è¿™ä¸‰æ¡æŒ‡ä»¤ï¼Œè¿™æ · Tailwind æ‰èƒ½å°†å¯¹åº”çš„åŸºç¡€æ ·å¼ã€ç»„ä»¶å’Œå·¥å…·ç±»æ³¨å…¥åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚ç¼ºå°‘å®ƒä»¬ï¼ŒTailwind å°†æ— æ³•æŒ‰é¢„æœŸç”Ÿæˆæ ·å¼ï¼Œå¯¼è‡´ä½ çš„ Tailwind ç±»æ— æ³•ç”Ÿæ•ˆã€‚

2.  **`@layer <layer_name> { ... }`**:
    *   **ä½œç”¨**: å…è®¸ä½ å°†è‡ªå·±çš„è‡ªå®šä¹‰æ ·å¼æ³¨å†Œåˆ° Tailwind çš„æŸä¸ªç‰¹å®šâ€œå±‚â€ä¸­ã€‚è¿™å¯¹äºæ§åˆ¶æ ·å¼çš„ä¼˜å…ˆçº§å’Œç¡®ä¿è‡ªå®šä¹‰æ ·å¼èƒ½è¢« JIT å¼•æ“æ­£ç¡®å¤„ç†è‡³å…³é‡è¦ã€‚
    *   **å‚æ•°**:
        *   `base`: ç”¨äºå®šä¹‰åŸºç¡€ HTML å…ƒç´ çš„æ ·å¼ï¼Œå¦‚ `h1`, `p`, `a`ã€‚
        *   `components`: ç”¨äºå®šä¹‰ç»„ä»¶çº§åˆ«çš„ç±»ï¼Œå¦‚ `.card`, `.btn`ã€‚è¿™æ˜¯ä½¿ç”¨ `@apply` çš„ç†æƒ³åœºæ‰€ã€‚
        *   `utilities`: ç”¨äºå®šä¹‰æ–°çš„ã€å¯å¤ç”¨çš„å°å·¥å…·ç±»ã€‚
    *   **è¯­æ³•**:
        ```css
        @layer components {
          /* ä½ è‡ªå®šä¹‰çš„ç»„ä»¶ç±»å†™åœ¨è¿™é‡Œ */
          .btn-blue {
            /* ... */
          }
        }
        ```

3.  **`@apply <utilities>`**:
    *   **ä½œç”¨**: è¿™æ˜¯æœ¬èŠ‚çš„æ˜æ˜Ÿã€‚å®ƒå…è®¸ä½ å°†ä»»æ„æ•°é‡çš„ Tailwind å·¥å…·ç±»â€œåº”ç”¨â€åˆ°ä¸€ä¸ªè‡ªå®šä¹‰çš„ CSS è§„åˆ™ä¸­ã€‚
    *   **å‚æ•°**: ä¸€ä¸²ç©ºæ ¼åˆ†éš”çš„ Tailwind å·¥å…·ç±»åã€‚
    *   **è¯­æ³•**:
        ```css
        .btn {
          @apply font-bold py-2 px-4 rounded;
        }
        ```
        æ„å»ºåï¼Œ`.btn` ä¼šåŒ…å« `font-bold`, `py-2`, `px-4`, å’Œ `rounded` å¯¹åº”çš„æ‰€æœ‰ CSS å±æ€§ã€‚

4.  **`theme(key)`**:
    *   **ä½œç”¨**: ä¸€ä¸ª CSS å‡½æ•°ï¼Œç”¨äºç›´æ¥è®¿é—®ä½ åœ¨ `tailwind.config.js` ä¸­ `theme` å¯¹è±¡é‡Œå®šä¹‰çš„å€¼ï¼ˆè®¾è®¡ä»¤ç‰Œï¼‰ã€‚
    *   **å‚æ•°**: ä¸€ä¸ªç”¨ç‚¹è¡¨ç¤ºæ³•ï¼ˆdot notationï¼‰çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å‘ `theme` å¯¹è±¡ä¸­çš„æŸä¸ªé”®ã€‚
    *   **è¯­æ³•**:
        ```css
        .custom-rule {
          background-color: theme('colors.primary');
          padding: theme('spacing.4.5');
          box-shadow: theme('boxShadow.lg');
        }
        ```

### ğŸ’» åŸºç¡€ç”¨æ³• (Basic Usage)

æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨é¡¹ç›®ä¸­å¤šå¤„ä½¿ç”¨åŒä¸€ç§æ ·å¼çš„æŒ‰é’®ã€‚HTML å¯èƒ½ä¼šå˜å¾—å†—é•¿ï¼š

```html
<!-- ç‰ˆæœ¬ 1: çº¯å·¥å…·ç±» -->
<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
  ä¸»è¦æŒ‰é’®
</button>

<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
  å¦ä¸€ä¸ªæŒ‰é’®
</button>
```

è¿™æ®µä»£ç é‡å¤æ€§å¾ˆé«˜ï¼Œç»´æŠ¤èµ·æ¥å¾ˆéº»çƒ¦ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨ `@apply` æ¥æŠ½å–è¿™ä¸ªæ¨¡å¼ã€‚

**ç¬¬ 1 æ­¥ï¼šåœ¨ä½ çš„ CSS æ–‡ä»¶ä¸­å®šä¹‰ç»„ä»¶ç±»**

åœ¨ä½ çš„ä¸» CSS æ–‡ä»¶ï¼ˆå¦‚ `src/input.css`ï¼‰ä¸­ï¼Œä½¿ç”¨ `@layer` å’Œ `@apply`ï¼š

```css
/* src/input.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .btn {
    @apply font-bold py-2 px-4 rounded;
  }
  .btn-primary {
    @apply bg-blue-500 text-white hover:bg-blue-700;
  }
  .btn-secondary {
    @apply bg-gray-500 text-white hover:bg-gray-700;
  }
}
```

**ç¬¬ 2 æ­¥ï¼šæ¸…ç†ä½ çš„ HTML**

ç°åœ¨ï¼Œä½ çš„ HTML å˜å¾—æå…¶ç®€æ´å’Œè¯­ä¹‰åŒ–ï¼š

```html
<!-- ç‰ˆæœ¬ 2: ä½¿ç”¨ @apply åçš„ç»„ä»¶ç±» -->
<button class="btn btn-primary">
  ä¸»è¦æŒ‰é’®
</button>

<button class="btn btn-secondary">
  å¦ä¸€ä¸ªæŒ‰é’®
</button>
```

**ä½¿ç”¨ `theme()` å‡½æ•°**

å‡è®¾ä½ åœ¨ `tailwind.config.js` ä¸­å®šä¹‰äº†ä¸€ä¸ªå“ç‰Œè‰²ï¼š

```javascript
// tailwind.config.js
theme: {
  extend: {
    colors: {
      'brand-purple': '#7C3AED',
    },
  },
}
```

ä½ å¯ä»¥ç›´æ¥åœ¨ CSS ä¸­é€šè¿‡ `theme()` ä½¿ç”¨å®ƒã€‚è¿™åœ¨å¤„ç†éœ€è¦ Tailwind è®¾è®¡ä»¤ç‰Œä½†æ²¡æœ‰ç›´æ¥å·¥å…·ç±»å¯¹åº”çš„ CSS å±æ€§ï¼ˆå¦‚ `background-image` ä¸­çš„æ¸å˜è‰²ï¼‰æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚

```css
@layer components {
  .special-gradient-text {
    /* ä½¿ç”¨ theme() å‡½æ•°è·å–é¢œè‰²å€¼æ¥åˆ›å»ºå¤æ‚æ ·å¼ */
    background-image: linear-gradient(to right, theme('colors.brand-purple'), theme('colors.pink.500'));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
}
```

### ğŸ§  æ·±åº¦è§£æ (In-depth Analysis)

#### `@apply` vs. ä¼ ç»Ÿç»„ä»¶æ¡†æ¶ (å¦‚ Bootstrap)

ä½ å¯èƒ½ä¼šè§‰å¾—è¿™å¾ˆåƒ Bootstrap æˆ–å…¶ä»–æ¡†æ¶çš„ç»„ä»¶ç±»ã€‚å®ƒä»¬æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†æœ¬è´¨åŒºåˆ«åœ¨äº**æ‰€æœ‰æƒ**å’Œ**çµæ´»æ€§**ã€‚

*   **ä¼ ç»Ÿæ¡†æ¶**: ä½ ä½¿ç”¨çš„æ˜¯é¢„å…ˆè®¾è®¡å¥½çš„ç»„ä»¶ï¼ˆå¦‚ `.btn`, `.card`ï¼‰ã€‚å®ƒä»¬çš„æ ·å¼æ˜¯å›ºå®šçš„ï¼Œå®šåˆ¶èµ·æ¥å¾ˆéº»çƒ¦ï¼Œå¸¸å¸¸éœ€è¦å†™å¾ˆå¤šè¦†ç›–æ€§ CSSã€‚
*   **Tailwind + `@apply`**: ä½ æ˜¯ç»„ä»¶çš„**åˆ›é€ è€…**ã€‚`.btn` ç±»é‡Œçš„æ¯ä¸€ä¸ªæ ·å¼éƒ½æºäºä½ è‡ªå·±çš„è®¾è®¡ç³»ç»Ÿï¼ˆ`tailwind.config.js`ï¼‰ã€‚ä½ å¯ä»¥ç”¨ä»»ä½•ä½ æƒ³è¦çš„å·¥å…·ç±»æ¥ç»„åˆï¼Œæ‹¥æœ‰ 100% çš„æ§åˆ¶æƒã€‚

#### `@apply` vs. UI æ¡†æ¶ç»„ä»¶ (å¦‚ React/Vue)

è¿™æ˜¯ä¸€ä¸ªæ›´ç°ä»£çš„æ¯”è¾ƒã€‚ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ `@apply`ï¼Œä»€ä¹ˆæ—¶å€™è¯¥åˆ›å»ºä¸€ä¸ª `<Button>` ç»„ä»¶ï¼Ÿ

*   **`@apply`**: é€‚ç”¨äº**çº¯ç²¹çš„æ ·å¼æŠ½è±¡**ã€‚å½“ä½ å‘ç°ä¸€ç»„ CSS ç±»åœ¨å¤šä¸ªä¸ç›¸å…³çš„ HTML å…ƒç´ ï¼ˆ`<a>`, `<button>`, `<div>`ï¼‰ä¸Šé‡å¤å‡ºç°æ—¶ï¼Œ`@apply` æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å®ƒåªå…³å¿ƒå¤–è§‚ã€‚
*   **UI æ¡†æ¶ç»„ä»¶ (`<Button>`)**: é€‚ç”¨äº**è¡Œä¸ºã€ç»“æ„å’Œæ ·å¼çš„å°è£…**ã€‚å½“ä¸€ä¸ªç»„ä»¶ä¸ä»…æœ‰æ ·å¼ï¼Œè¿˜æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆ`disabled`, `loading`ï¼‰ã€äº‹ä»¶å¤„ç†ï¼ˆ`onClick`ï¼‰å’Œå›ºå®šçš„ HTML ç»“æ„ï¼ˆå¦‚å¸¦æœ‰ä¸€ä¸ª iconï¼‰æ—¶ï¼Œåº”è¯¥åˆ›å»ºæ¡†æ¶ç»„ä»¶ã€‚

**æœ€ä½³ç»„åˆ**: å®ƒä»¬å¯ä»¥ååŒå·¥ä½œï¼ä½ çš„ React/Vue ç»„ä»¶å†…éƒ¨å¯ä»¥ä½¿ç”¨ `@apply` ç”Ÿæˆçš„ç±»ã€‚

```jsx
// React ç»„ä»¶
function Button({ children, kind = 'primary' }) {
  const kindClasses = {
    primary: 'btn-primary',
    secondary: 'btn-secondary',
  };
  
  // ç»„ä»¶å†…éƒ¨ä½¿ç”¨ @apply ç”Ÿæˆçš„ç±»
  return (
    <button className={`btn ${kindClasses[kind]}`}>
      {children}
    </button>
  );
}
```

#### `@layer` çš„é‡è¦æ€§ï¼šCSS å±‚å ä¸ä¼˜å…ˆçº§

ä¸ºä»€ä¹ˆè¦æŠŠè‡ªå®šä¹‰ç±»æ”¾åœ¨ `@layer components` ä¸­ï¼Ÿå› ä¸º Tailwind çš„ CSS æ˜¯æŒ‰ç‰¹å®šé¡ºåºç”Ÿæˆçš„ï¼Œè¿™å†³å®šäº†å“ªä¸ªç±»çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚

```mermaid
graph TD
    A["Base Layer (é¢„è®¾æ ·å¼)"] --> B["Component Layer (ç»„ä»¶ç±»)"]
    B --> C["Utility Layer (å·¥å…·ç±»)"]
```

*   **Base Layer**: ä¼˜å…ˆçº§æœ€ä½ã€‚
*   **Component Layer**: ä¸­ç­‰ä¼˜å…ˆçº§ã€‚
*   **Utility Layer**: ä¼˜å…ˆçº§æœ€é«˜ã€‚

è¿™æ„å‘³ç€ï¼Œä¸€ä¸ªå·¥å…·ç±»ï¼ˆå¦‚ `mt-8`ï¼‰**æ€»æ˜¯å¯ä»¥è¦†ç›–**ä¸€ä¸ªç»„ä»¶ç±»ï¼ˆå¦‚ `.btn`ï¼‰ä¸­å®šä¹‰çš„ `margin`ã€‚

```html
<!-- `mt-8` çš„ä¼˜å…ˆçº§é«˜äº .btn-primary å†…éƒ¨çš„ä»»ä½• margin/padding è®¾ç½®ï¼Œå› ä¸ºå®ƒåœ¨ Utility Layer -->
<button class="btn btn-primary mt-8">æŒ‰é’®</button>
```

å°†ä½ çš„ç»„ä»¶æ”¾åœ¨ `@layer components` ä¸­ï¼Œå¯ä»¥ç¡®ä¿ä½ çš„æŠ½è±¡è¡Œä¸ºç¬¦åˆé¢„æœŸï¼Œå¹¶ä¸”ä»ç„¶å…è®¸ä½ ç”¨å·¥å…·ç±»è¿›è¡Œä¸€æ¬¡æ€§çš„å¾®è°ƒã€‚

### âš ï¸ å¸¸è§é™·é˜±ä¸æœ€ä½³å®è·µ (Common Pitfalls & Best Practices)

#### é™·é˜± 1ï¼šè¿‡åº¦ä½¿ç”¨ `@apply`
*   **é—®é¢˜**: æ–°æ‰‹å¾ˆå®¹æ˜“çˆ±ä¸Š `@apply`ï¼Œç„¶åå¼€å§‹æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½æŠ½è±¡æˆç»„ä»¶ç±»ï¼Œæœ€ç»ˆåˆå›åˆ°äº†å†™ä¼ ç»Ÿ CSS çš„è€è·¯ï¼Œå¤±å»äº† utility-first çš„çµæ´»æ€§ã€‚
*   **è§£å†³æ–¹æ¡ˆ**: **åªå¯¹çœŸæ­£é‡å¤çš„ã€å¯è¯†åˆ«çš„ UI æ¨¡å¼ä½¿ç”¨ `@apply`**ã€‚å¦‚æœä¸€ä¸ªæ ·å¼ç»„åˆåªå‡ºç°äº†ä¸€ä¸¤æ¬¡ï¼Œç›´æ¥åœ¨ HTML ä¸­ä½¿ç”¨å·¥å…·ç±»é€šå¸¸æ˜¯æ›´å¥½ã€æ›´ç›´æ¥çš„é€‰æ‹©ã€‚é—®é—®è‡ªå·±ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå°†åœ¨åº”ç”¨ä¸­åå¤å‡ºç°çš„è®¾è®¡æ¨¡å¼å—ï¼Ÿâ€å¦‚æœæ˜¯ï¼Œå°±ç”¨ `@apply`ã€‚

#### é™·é˜± 2ï¼šåœ¨ `@apply` ä¸­ä½¿ç”¨å¸¦é‡è¦ä¿®é¥°ç¬¦çš„ç±»
*   **é—®é¢˜**: åœ¨ `@apply` ä¸­ä½¿ç”¨ `!important` ä¿®é¥°ç¬¦ï¼ˆä¾‹å¦‚ `@apply !p-4`ï¼‰å¯èƒ½ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„æ ·å¼è¦†ç›–é—®é¢˜ï¼Œå¹¶ä¸”ä½¿å…¶éš¾ä»¥è°ƒè¯•ã€‚
*   **è§£å†³æ–¹æ¡ˆ**: å°½é‡é¿å…åœ¨ `@apply` ä¸­ä½¿ç”¨ `!important`ã€‚Tailwind çš„å±‚çº§å’Œå·¥å…·ç±»çš„åŸå­æ€§è®¾è®¡å·²ç»è§£å†³äº†å¤§éƒ¨åˆ†ä¼˜å…ˆçº§é—®é¢˜ã€‚å¦‚æœç¡®å®éœ€è¦æé«˜ä¼˜å…ˆçº§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ CSS çš„åŸç”Ÿ `!important`ï¼Œä½†è¦è°¨æ…ã€‚

#### æœ€ä½³å®è·µ 1ï¼šä¸ºä½ çš„ç»„ä»¶ç±»æ·»åŠ åŸºç¡€æ ·å¼å’Œå˜ä½“
å°†ä¸€ä¸ªç»„ä»¶çš„åŸºç¡€ç»“æ„å’Œä¸åŒå˜ä½“ï¼ˆé¢œè‰²ã€å¤§å°ç­‰ï¼‰åˆ†å¼€ï¼Œå¯ä»¥è·å¾—æœ€å¤§çš„çµæ´»æ€§ã€‚

```css
@layer components {
  /* åŸºç¡€ .btn æ ·å¼ */
  .btn {
    @apply inline-block text-center px-6 py-3 rounded-lg shadow-md transition-transform duration-200 transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  /* é¢œè‰²å˜ä½“ */
  .btn-indigo {
    @apply bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500;
  }
  .btn-outline-gray {
    @apply bg-transparent text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500;
  }
  
  /* å°ºå¯¸å˜ä½“ */
  .btn-sm {
    @apply px-4 py-2 text-sm;
  }
}
```
**åº”ç”¨**: `<button class="btn btn-indigo btn-sm">å°æŒ‰é’®</button>`

#### æœ€ä½³å®è·µ 2ï¼šç»“åˆ CSS ä¼ªç±»å’Œå“åº”å¼å˜ä½“
`@apply` å¯ä»¥å®Œç¾åœ°ä¸ Tailwind çš„æ‰€æœ‰å˜ä½“ï¼ˆå¦‚ `hover:`, `focus:`, `lg:`ï¼‰ä¸€èµ·å·¥ä½œã€‚

```css
@layer components {
  .card {
    @apply bg-white rounded-lg shadow-md p-4 transition-all duration-300;
    
    /* å“åº”å¼å˜ä½“ */
    @apply md:p-6 lg:p-8;

    /* ä¼ªç±»å˜ä½“ */
    @apply hover:shadow-xl hover:scale-105;
  }
}
```

### ğŸš€ å®æˆ˜æ¼”ç»ƒ (Practical Exercise)

**ä»»åŠ¡**: åˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„â€œè­¦å‘Šæ¡† (Alert)â€ç»„ä»¶ï¼Œå®ƒèƒ½å¤Ÿè¡¨ç¤ºæˆåŠŸã€è­¦å‘Šå’Œé”™è¯¯ä¸‰ç§çŠ¶æ€ã€‚

**ç¬¬ 1 æ­¥ï¼šåˆ†æ HTML ä¸­çš„é‡å¤æ¨¡å¼**

å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹æœªä¼˜åŒ–çš„ HTMLï¼š

```html
<!-- æˆåŠŸè­¦å‘Šæ¡† -->
<div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-md shadow" role="alert">
  <p class="font-bold">æˆåŠŸ!</p>
  <p>ä½ çš„æ“ä½œå·²æˆåŠŸå®Œæˆã€‚</p>
</div>

<!-- é”™è¯¯è­¦å‘Šæ¡† -->
<div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow" role="alert">
  <p class="font-bold">é”™è¯¯!</p>
  <p>å‘ç”Ÿäº†ä¸€ä¸ªæœªçŸ¥é”™è¯¯ã€‚</p>
</div>
```
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ`p-4 rounded-md shadow` å’Œ `border-l-4` æ˜¯å…±äº«çš„åŸºç¡€æ ·å¼ï¼Œè€Œé¢œè‰²æ˜¯å˜åŒ–çš„ã€‚

**ç¬¬ 2 æ­¥ï¼šä½¿ç”¨ `@apply` è¿›è¡ŒæŠ½å–**

åœ¨ä½ çš„ CSS æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```css
/* src/input.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* 1. æŠ½å–åŸºç¡€ alert æ ·å¼ */
  .alert {
    @apply p-4 border-l-4 rounded-md shadow;
  }
  .alert-title {
    @apply font-bold;
  }

  /* 2. åˆ›å»ºä¸åŒçŠ¶æ€çš„å˜ä½“ */
  .alert-success {
    @apply bg-green-100 border-green-500 text-green-700;
  }
  .alert-warning {
    @apply bg-yellow-100 border-yellow-500 text-yellow-700;
  }
  .alert-danger {
    @apply bg-red-100 border-red-500 text-red-700;
  }
}
```

**ç¬¬ 3 æ­¥ï¼šé‡æ„ HTML**

ç°åœ¨ï¼Œä½ çš„ HTML å˜å¾—å¹²å‡€ã€è¯­ä¹‰åŒ–ä¸”æ˜“äºç»´æŠ¤ï¼š

```html
<!-- æˆåŠŸè­¦å‘Šæ¡† -->
<div class="alert alert-success" role="alert">
  <p class="alert-title">æˆåŠŸ!</p>
  <p>ä½ çš„æ“ä½œå·²æˆåŠŸå®Œæˆã€‚</p>
</div>

<!-- è­¦å‘Šè­¦å‘Šæ¡† -->
<div class="alert alert-warning" role="alert">
  <p class="alert-title">è­¦å‘Š!</p>
  <p>è¯·æ£€æŸ¥ä½ çš„è¾“å…¥ä¿¡æ¯ã€‚</p>
</div>

<!-- é”™è¯¯è­¦å‘Šæ¡† -->
<div class="alert alert-danger" role="alert">
  <p class="alert-title">é”™è¯¯!</p>
  <p>å‘ç”Ÿäº†ä¸€ä¸ªæœªçŸ¥é”™è¯¯ã€‚</p>
</div>
```
ä½ æˆåŠŸåœ°åˆ›å»ºäº†ä¸€ä¸ªå¯å¤ç”¨ã€å¯æ‰©å±•çš„ç»„ä»¶ï¼Œè€Œæ²¡æœ‰å†™ä¸€è¡Œä¼ ç»Ÿçš„ CSS å±æ€§ï¼

### ğŸ’¡ æ€»ç»“ (Summary)

`@apply` åŠå…¶ç›¸å…³çš„æŒ‡ä»¤æ˜¯è¿æ¥ utility-first ç†å¿µä¸ä¼ ç»Ÿç»„ä»¶åŒ– CSS çš„æ¡¥æ¢ã€‚å®ƒä¸æ˜¯è¦å–ä»£å·¥å…·ç±»ï¼Œè€Œæ˜¯ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„æŠ½è±¡å·¥å…·ã€‚

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æŒæ¡äº†ï¼š
*   **æ ¸å¿ƒæŒ‡ä»¤**: ` @tailwind` ç”¨äºåŸºç¡€è®¾ç½®ï¼Œ`@layer` ç”¨äºç»„ç»‡å’Œæ§åˆ¶ä¼˜å…ˆçº§ï¼Œ`@apply` ç”¨äºç»„åˆå·¥å…·ç±»ï¼Œ`theme()` ç”¨äºè®¿é—®è®¾è®¡ä»¤ç‰Œã€‚
*   **ä½•æ—¶ä½¿ç”¨ `@apply`**: å½“ä½ è¯†åˆ«å‡ºé¡¹ç›®ä¸­åå¤å‡ºç°çš„ UI æ¨¡å¼æ—¶ï¼Œæ˜¯æ—¶å€™ä½¿ç”¨ `@apply` æ¥åˆ›å»ºå¯å¤ç”¨çš„ç»„ä»¶ç±»äº†ã€‚
*   **æœ€ä½³å®è·µ**: å§‹ç»ˆå°†è‡ªå®šä¹‰ç»„ä»¶æ”¾åœ¨ `@layer components` ä¸­ï¼Œä¿æŒç»„ä»¶çš„å°å‹åŒ–å’Œå¯ç»„åˆæ€§ï¼Œå¹¶å……åˆ†åˆ©ç”¨ Tailwind çš„å˜ä½“ç³»ç»Ÿã€‚
*   **æ¸…æ™°çš„è¾¹ç•Œ**: ç†è§£äº† `@apply` å’Œ UI æ¡†æ¶ç»„ä»¶çš„é€‚ç”¨åœºæ™¯ï¼ŒçŸ¥é“ä½•æ—¶é€‰æ‹©å“ªç§æŠ½è±¡æ–¹å¼ã€‚

ç†Ÿç»ƒè¿ç”¨ `@apply`ï¼Œä½ å°†èƒ½åœ¨å¤§å‹é¡¹ç›®ä¸­ä¿æŒ HTML çš„æ•´æ´ï¼ŒåŒæ—¶ç¡®ä¿æ‰€æœ‰æ ·å¼éƒ½ä¸¥æ ¼éµå¾ªä½ åœ¨ `tailwind.config.js` ä¸­å®šä¹‰çš„è®¾è®¡ç³»ç»Ÿï¼Œå®ç°çœŸæ­£çš„â€œä»£ç å³è®¾è®¡â€ã€‚