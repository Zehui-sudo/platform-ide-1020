å¥½çš„ï¼Œä½œä¸ºä¸€åä¸“ä¸šçš„JavaScriptæ•™è‚²ä¸“å®¶ï¼Œæˆ‘å°†ä¸ºæ‚¨ç”Ÿæˆå…³äºâ€œå¯¹è±¡çš„æµ…æ‹·è´ä¸æ·±æ‹·è´â€çš„æ•™å­¦å†…å®¹ã€‚å†…å®¹å°†ä¸¥æ ¼æŒ‰ç…§æ‚¨çš„è¦æ±‚ï¼Œç»“æ„æ¸…æ™°ï¼Œä»£ç ç¤ºä¾‹å®Œæ•´ä¸”æœ‰è¶£ã€‚

---

## å¯¹è±¡çš„æµ…æ‹·è´ä¸æ·±æ‹·è´

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ
åœ¨ä¸å½±å“åŸå§‹æ•°æ®çš„å‰æä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬è¿›è¡Œæ“ä½œã€‚ç”±äºå¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹ï¼Œç®€å•çš„èµ‹å€¼ (`=`) åªä¼šå¤åˆ¶å¼•ç”¨ï¼ˆåƒç»™æˆ¿å­å¤šé…ä¸€æŠŠé’¥åŒ™ï¼‰ï¼Œè€Œä¸æ˜¯åˆ›å»ºæ–°æˆ¿å­ã€‚æ‹·è´å°±æ˜¯ä¸ºäº†â€œå…‹éš†â€ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼ˆæ–°æˆ¿å­ï¼‰ï¼Œé¿å…ä¿®æ”¹å‰¯æœ¬æ—¶æ„å¤–å½±å“åˆ°åŸå§‹å¯¹è±¡ã€‚

### ğŸ“š Level 1: åŸºç¡€è®¤çŸ¥ï¼ˆ30ç§’ç†è§£ï¼‰
æµ…æ‹·è´ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å¤åˆ¶åŸå§‹å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ã€‚å¦‚æœå±æ€§å€¼æ˜¯åŸºæœ¬ç±»å‹ï¼ˆå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ï¼‰ï¼Œå°±å¤åˆ¶å€¼ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼ˆå¦‚å¦ä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œå°±å¤åˆ¶å¼•ç”¨åœ°å€ã€‚

```javascript
// å‡è®¾æˆ‘ä»¬åœ¨åˆ¶ä½œä¸€ä¸ªæŠ«è¨è®¢å•
const originalPizza = {
  name: "å¤å¨å¤·æŠ«è¨",
  size: "12å¯¸"
};

// ä½¿ç”¨å±•å¼€è¯­æ³•(...)è¿›è¡Œæµ…æ‹·è´ï¼Œåˆ›å»ºä¸€ä»½æ–°è®¢å•
const copiedPizza = { ...originalPizza };

// é¡¾å®¢æƒ³æŠŠæ–°è®¢å•çš„å°ºå¯¸æ”¹æˆ9å¯¸
copiedPizza.size = "9å¯¸";

console.log("åŸå§‹è®¢å•:", originalPizza);
// è¾“å‡º: åŸå§‹è®¢å•: { name: 'å¤å¨å¤·æŠ«è¨', size: '12å¯¸' }

console.log("æ‹·è´çš„è®¢å•:", copiedPizza);
// è¾“å‡º: æ‹·è´çš„è®¢å•: { name: 'å¤å¨å¤·æŠ«è¨', size: '9å¯¸' }

console.log("âœ… æˆåŠŸï¼ä¿®æ”¹æ‹·è´çš„è®¢å•æ²¡æœ‰å½±å“åŸå§‹è®¢å•ã€‚");
```

### ğŸ“ˆ Level 2: æ ¸å¿ƒç‰¹æ€§ï¼ˆæ·±å…¥ç†è§£ï¼‰

#### ç‰¹æ€§1: æµ…æ‹·è´çš„â€œæµ…â€â€”â€”åªå¤åˆ¶ç¬¬ä¸€å±‚
æµ…æ‹·è´çš„å±€é™æ€§åœ¨äºï¼Œå¦‚æœå¯¹è±¡å†…éƒ¨è¿˜åŒ…å«å…¶ä»–å¯¹è±¡ï¼ˆåµŒå¥—å¯¹è±¡ï¼‰ï¼Œå®ƒåªä¼šå¤åˆ¶é‚£ä¸ªå†…éƒ¨å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å†…éƒ¨å¯¹è±¡æœ¬èº«ã€‚

```javascript
// è¿™æ˜¯ä¸€ä¸ªæ¸¸æˆè§’è‰²çš„é…ç½®
const originalCharacter = {
  name: "è‰¾æ‹‰",
  attributes: {
    health: 100,
    mana: 50
  }
};

// å¯¹è§’è‰²è¿›è¡Œæµ…æ‹·è´ï¼Œæƒ³åˆ›å»ºä¸€ä¸ªâ€œé•œåƒåˆ†èº«â€
const mirrorImage = { ...originalCharacter };

// é•œåƒåˆ†èº«è¢«æ•Œäººå‡»ä¸­ï¼Œç”Ÿå‘½å€¼ä¸‹é™
mirrorImage.attributes.health = 20;

console.log("åŸå§‹è§’è‰²ç”Ÿå‘½å€¼:", originalCharacter.attributes.health);
// è¾“å‡º: åŸå§‹è§’è‰²ç”Ÿå‘½å€¼: 20

console.log("é•œåƒåˆ†èº«ç”Ÿå‘½å€¼:", mirrorImage.attributes.health);
// è¾“å‡º: é•œåƒåˆ†èº«ç”Ÿå‘½å€¼: 20

console.log("ğŸ˜± ç³Ÿç³•ï¼ä¿®æ”¹åˆ†èº«çš„ç”Ÿå‘½å€¼ï¼Œå¯¼è‡´åŸå§‹è§’è‰²çš„ç”Ÿå‘½å€¼ä¹Ÿæ”¹å˜äº†ï¼");
console.log("è¿™æ˜¯å› ä¸ºæµ…æ‹·è´å…±äº«äº† `attributes` è¿™ä¸ªåµŒå¥—å¯¹è±¡ã€‚");
```

#### ç‰¹æ€§2: æ·±æ‹·è´çš„â€œæ·±â€â€”â€”å®Œå…¨ç‹¬ç«‹
æ·±æ‹·è´ä¼šé€’å½’åœ°å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å±‚çº§ï¼Œç¡®ä¿æ‰€æœ‰åµŒå¥—çš„å¯¹è±¡ä¹Ÿéƒ½è¢«å®Œæ•´åœ°å¤åˆ¶ä¸ºæ–°çš„å®ä¾‹ï¼Œä»è€Œåˆ›é€ å‡ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„å‰¯æœ¬ã€‚

```javascript
// å¦ä¸€ä¸ªæ¸¸æˆè§’è‰²
const masterWizard = {
  name: "ç”˜é“å¤«",
  inventory: {
    staff: "æ³•æ–",
    potions: ["æ²»ç–—è¯æ°´", "æ³•åŠ›è¯æ°´"]
  },
  // æ³¨æ„ï¼šJSONæ–¹æ³•ä¼šä¸¢å¤±å‡½æ•°
  castSpell: () => "ç«ç„°çƒï¼" 
};

// ä½¿ç”¨ JSON.parse(JSON.stringify(...)) çš„æŠ€å·§å®ç°æ·±æ‹·è´
const evilClone = JSON.parse(JSON.stringify(masterWizard));

// é‚ªæ¶å…‹éš†å·æ¢äº†è‡ªå·±èƒŒåŒ…é‡Œçš„æ³•æ–
evilClone.inventory.staff = "è¢«è¯…å’’çš„é­”æ–";

console.log("å¤§æ³•å¸ˆçš„æ³•æ–:", masterWizard.inventory.staff);
// è¾“å‡º: å¤§æ³•å¸ˆçš„æ³•æ–: æ³•æ–

console.log("é‚ªæ¶å…‹éš†çš„æ³•æ–:", evilClone.inventory.staff);
// è¾“å‡º: é‚ªæ¶å…‹éš†çš„æ³•æ–: è¢«è¯…å’’çš„é­”æ–

console.log("âœ… å®‰å…¨ï¼æ·±æ‹·è´åï¼Œä¿®æ”¹å…‹éš†ä½“ä¸ä¼šå½±å“æœ¬ä½“ã€‚");

// é¢å¤–æç¤ºï¼šJSONæ·±æ‹·è´çš„å±€é™æ€§
console.log("å¤§æ³•å¸ˆèƒ½æ–½æ³•å—?", typeof masterWizard.castSpell); // "function"
console.log("é‚ªæ¶å…‹éš†èƒ½æ–½æ³•å—?", typeof evilClone.castSpell); // "undefined" (å‡½æ•°ä¸¢å¤±äº†)
```

### ğŸ” Level 3: å¯¹æ¯”å­¦ä¹ ï¼ˆé¿å…é™·é˜±ï¼‰
è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªé£Ÿè°±çš„ä¾‹å­ï¼Œç›´è§‚åœ°å¯¹æ¯”æµ…æ‹·è´å’Œæ·±æ‹·è´åœ¨å¤„ç†åµŒå¥—å¯¹è±¡æ—¶çš„å·®å¼‚ã€‚

```javascript
// åŸå§‹çš„ç§˜å¯†é…æ–¹
const secretRecipe = {
  name: "ç¥–æ¯çš„è‹¹æœæ´¾",
  ingredients: {
    fruit: "è‹¹æœ",
    sugar: "1æ¯",
    secretSpice: "è‚‰æ¡‚"
  }
};

console.log("=== é”™è¯¯ç”¨æ³•ï¼šä½¿ç”¨æµ…æ‹·è´ä¿®æ”¹åµŒå¥—æ•°æ® ===");
// âŒ å°è¯•åˆ›å»ºä¸€ä¸ªâ€œä½ç³–ç‰ˆâ€é…æ–¹ï¼Œä½†ä½¿ç”¨äº†æµ…æ‹·è´
const lowSugarRecipeAttempt = { ...secretRecipe };
lowSugarRecipeAttempt.ingredients.sugar = "åŠæ¯"; // ä¿®æ”¹åµŒå¥—å¯¹è±¡é‡Œçš„å±æ€§

console.log("åŸå§‹é…æ–¹ç³–é‡:", secretRecipe.ingredients.sugar);
// è¾“å‡º: åŸå§‹é…æ–¹ç³–é‡: åŠæ¯
console.log("ä½ç³–é…æ–¹ç³–é‡:", lowSugarRecipeAttempt.ingredients.sugar);
// è¾“å‡º: ä½ç³–é…æ–¹ç³–é‡: åŠæ¯
console.log("âŒ å¤±è´¥ï¼åŸå§‹çš„ç§˜å¯†é…æ–¹è¢«æ°¸ä¹…ä¿®æ”¹äº†ï¼Œç¥–æ¯ä¼šç”Ÿæ°”çš„ï¼");


console.log("\n=== æ­£ç¡®ç”¨æ³•ï¼šä½¿ç”¨æ·±æ‹·è´ä¿æŠ¤åŸå§‹æ•°æ® ===");
// ä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬é‡æ–°å®šä¹‰ä¸€ä¸ªå¹²å‡€çš„åŸå§‹é…æ–¹
const safeSecretRecipe = {
  name: "ç¥–æ¯çš„è‹¹æœæ´¾",
  ingredients: {
    fruit: "è‹¹æœ",
    sugar: "1æ¯",
    secretSpice: "è‚‰æ¡‚"
  }
};
// âœ… ä½¿ç”¨æ·±æ‹·è´åˆ›å»ºå®Œå…¨ç‹¬ç«‹çš„â€œä½ç³–ç‰ˆâ€
const correctLowSugarRecipe = JSON.parse(JSON.stringify(safeSecretRecipe));
correctLowSugarRecipe.ingredients.sugar = "åŠæ¯";

console.log("åŸå§‹é…æ–¹ç³–é‡:", safeSecretRecipe.ingredients.sugar);
// è¾“å‡º: åŸå§‹é…æ–¹ç³–é‡: 1æ¯
console.log("ä½ç³–é…æ–¹ç³–é‡:", correctLowSugarRecipe.ingredients.sugar);
// è¾“å‡º: ä½ç³–é…æ–¹ç³–é‡: åŠæ¯
console.log("âœ… æˆåŠŸï¼æˆ‘ä»¬å®‰å…¨åœ°åˆ›å»ºäº†æ–°é…æ–¹ï¼Œè€Œæ²¡æœ‰ç¯¡æ”¹ç¥åœ£çš„åŸå§‹ç‰ˆæœ¬ã€‚");
```

### ğŸš€ Level 4: å®æˆ˜åº”ç”¨ï¼ˆçœŸå®åœºæ™¯ï¼‰
ğŸ® **æ¸¸æˆåœºæ™¯**: è§’è‰²çŠ¶æ€å¿«ç…§ä¸å›æ»šç³»ç»Ÿ

åœ¨ä¸€ä¸ªè§’è‰²æ‰®æ¼”æ¸¸æˆä¸­ï¼Œç©å®¶çš„è§’è‰²å¯èƒ½è·å¾—ä¸´æ—¶çš„â€œç¥ç¦â€æˆ–â€œè¯…å’’â€æ•ˆæœã€‚æˆ‘ä»¬éœ€è¦åœ¨æ•ˆæœç”Ÿæ•ˆå‰ä¿å­˜è§’è‰²çš„â€œå¿«ç…§â€ï¼Œä»¥ä¾¿åœ¨æ•ˆæœç»“æŸåæ¢å¤ã€‚å¦‚æœç”¨æµ…æ‹·è´ï¼Œæ¢å¤æ—¶å¯èƒ½ä¼šå‡ºé”™ï¼

```javascript
// ä¸€ä¸ªç®€å•çš„æ·±æ‹·è´å‡½æ•°ï¼ˆå®é™…é¡¹ç›®æ¨èç”¨ lodash.cloneDeepï¼‰
function createDeepClone(obj) {
  return JSON.parse(JSON.stringify(obj));
}

// 1. è‹±é›„çš„åˆå§‹çŠ¶æ€
let hero = {
  name: "é˜¿å°”è¨æ–¯",
  hp: 1000,
  stats: {
    attack: 150,
    defense: 80,
  },
  statusEffects: []
};

// 2. ä¿å­˜ä¸€ä¸ªæˆ˜æ–—å¼€å§‹å‰çš„â€œå¿«ç…§â€
console.log("--- æˆ˜æ–—å¼€å§‹ï¼Œä¿å­˜è‹±é›„å¿«ç…§ ---");
const heroSnapshot = createDeepClone(hero);
console.log("å¿«ç…§å·²åˆ›å»ºï¼å½“å‰æ”»å‡»åŠ›:", heroSnapshot.stats.attack);

// 3. è‹±é›„æ¡åˆ°äº†ä¸€ä¸ªâ€œè¢«è¯…å’’çš„å¤´ç›”â€ï¼Œæ”»å‡»åŠ›å¤§å¹…æå‡ï¼Œä½†é˜²å¾¡åŠ›å½’é›¶
console.log("\n--- è‹±é›„æˆ´ä¸Šäº†'è¢«è¯…å’’çš„å¤´ç›”'ï¼ ---");
hero.stats.attack += 200;
hero.stats.defense = 0;
hero.statusEffects.push("è¯…å’’:é˜²å¾¡æ¸…é›¶");

console.log(`å½“å‰çŠ¶æ€: ${hero.name}, æ”»å‡»åŠ›: ${hero.stats.attack}, é˜²å¾¡åŠ›: ${hero.stats.defense}`);
console.log("å½“å‰æ•ˆæœ:", hero.statusEffects);

// 4. æˆ˜æ–—èƒœåˆ©åï¼Œè‹±é›„ä¸¢æ‰äº†å¤´ç›”ï¼Œéœ€è¦ä»å¿«ç…§æ¢å¤çŠ¶æ€
console.log("\n--- æˆ˜æ–—ç»“æŸï¼Œä»å¿«ç…§æ¢å¤çŠ¶æ€ ---");
hero = createDeepClone(heroSnapshot); // ä½¿ç”¨å¿«ç…§è¦†ç›–å½“å‰çŠ¶æ€

console.log(`æ¢å¤åçŠ¶æ€: ${hero.name}, æ”»å‡»åŠ›: ${hero.stats.attack}, é˜²å¾¡åŠ›: ${hero.stats.defense}`);
console.log("æ¢å¤åæ•ˆæœ:", hero.statusEffects);
console.log("ğŸ‰ è‹±é›„æ¯«å‘æ— æŸåœ°æ¢å¤åˆ°äº†åˆå§‹çŠ¶æ€ï¼Œå¯ä»¥ç»§ç»­å†’é™©äº†ï¼æ·±æ‹·è´ä¸‡å²ï¼");
```

### ğŸ’¡ è®°å¿†è¦ç‚¹
- **èµ‹å€¼ (`=`) æ˜¯å…±äº«**ï¼šä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œåƒä¸¤æŠŠé’¥åŒ™å¼€åŒä¸€æ‰‡é—¨ã€‚
- **æµ…æ‹·è´ (`...`, `Object.assign`) æ˜¯å¤åˆ¶ç¬¬ä¸€å±‚**ï¼šåˆ›å»ºäº†æ–°æˆ¿å­ï¼Œä½†å¦‚æœæˆ¿å­é‡Œæœ‰ä¿é™©ç®±ï¼ˆåµŒå¥—å¯¹è±¡ï¼‰ï¼Œç»™ä½ çš„åªæ˜¯ä¿é™©ç®±çš„æ—§é’¥åŒ™ã€‚
- **æ·±æ‹·è´ (`JSON.parse(JSON.stringify(obj))`) æ˜¯å½»åº•å¤åˆ¶**ï¼šå…‹éš†ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ–°æˆ¿å­ï¼Œè¿ä¿é™©ç®±å’Œé‡Œé¢çš„ä¸œè¥¿éƒ½ç»™ä½ å¤åˆ¶äº†ä¸€å¥—å…¨æ–°çš„ã€‚

<!--
metadata:
  syntax: ["let", "const", "function"]
  pattern: ["object-copying"]
  api: ["console.log", "Object.assign", "JSON.stringify", "JSON.parse"]
  concept: ["shallow-copy", "deep-copy", "reference-vs-value"]
  difficulty: intermediate
  dependencies: ["æ— "]
  related: ["js-sec-2-2-1", "js-sec-2-2-2"]
-->